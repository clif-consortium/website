<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Frequently Asked Questions – CLIF Consortium</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-56f91e47d7780a4a1f292612d8256b97.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">CLIF Consortium</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">About</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="./mission.html">
 <span class="dropdown-text">Mission, Vission, Value</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./team.html">
 <span class="dropdown-text">Team</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./cohort.html"> 
<span class="menu-text">CLIF Cohort</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-clif-versions" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">CLIF Versions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-clif-versions">    
        <li>
    <a class="dropdown-item" href="./data-dictionary/data-dictionary-1.0.0.html">
 <span class="dropdown-text">CLIF-1.0.0</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data-dictionary/data-dictionary-2.0.0.html">
 <span class="dropdown-text">CLIF-2.0.0</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data-dictionary/data-dictionary-2.1.0.html">
 <span class="dropdown-text">CLIF-2.1.0</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data-dictionary/change_log.html">
 <span class="dropdown-text">Change log</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="./tools.html">
 <span class="dropdown-text">CLIF Tools</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projects.html">
 <span class="dropdown-text">Projects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./maturity.html">
 <span class="dropdown-text">CLIF Maturity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mCIDE.html">
 <span class="dropdown-text">minimum Common ICU Data Elements</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./faqs.html">
 <span class="dropdown-text">FAQs</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Common-Longitudinal-ICU-data-Format"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-federated-analysis-and-what-is-the-project-workflow" id="toc-what-is-federated-analysis-and-what-is-the-project-workflow" class="nav-link active" data-scroll-target="#what-is-federated-analysis-and-what-is-the-project-workflow">What is “federated” analysis and what is the project workflow?</a></li>
  <li><a href="#whats-the-process-for-joining-the-consortium-do-i-need-to-clif-my-healthsystems-data-to-start-collaborating" id="toc-whats-the-process-for-joining-the-consortium-do-i-need-to-clif-my-healthsystems-data-to-start-collaborating" class="nav-link" data-scroll-target="#whats-the-process-for-joining-the-consortium-do-i-need-to-clif-my-healthsystems-data-to-start-collaborating">What’s the process for joining the consortium? Do I need to CLIF my healthsystem’s data to start collaborating?</a></li>
  <li><a href="#what-about-multi-modal-data-like-notes-and-images" id="toc-what-about-multi-modal-data-like-notes-and-images" class="nav-link" data-scroll-target="#what-about-multi-modal-data-like-notes-and-images">What about multi-modal data like notes and images?</a></li>
  <li><a href="#why-didnt-you-just-use-an-existing-common-data-model-cdm-like-the-observational-medical-outcomes-partnership-omop" id="toc-why-didnt-you-just-use-an-existing-common-data-model-cdm-like-the-observational-medical-outcomes-partnership-omop" class="nav-link" data-scroll-target="#why-didnt-you-just-use-an-existing-common-data-model-cdm-like-the-observational-medical-outcomes-partnership-omop">Why didn’t you just use an existing Common Data Model (CDM) like the Observational Medical Outcomes Partnership (OMOP)?</a></li>
  <li><a href="#what-about-outpatient-data" id="toc-what-about-outpatient-data" class="nav-link" data-scroll-target="#what-about-outpatient-data">What about outpatient data?</a></li>
  <li><a href="#what-about-connections-to-existing-data-standards-like-health-level-seven-hl7-fast-healthcare-interoperability-resources-fhir" id="toc-what-about-connections-to-existing-data-standards-like-health-level-seven-hl7-fast-healthcare-interoperability-resources-fhir" class="nav-link" data-scroll-target="#what-about-connections-to-existing-data-standards-like-health-level-seven-hl7-fast-healthcare-interoperability-resources-fhir">What about connections to existing data standards like Health Level Seven (HL7) Fast Healthcare Interoperability Resources (FHIR)?</a></li>
  <li><a href="#what-about-institutional-review-board-irb-approval-and-ethical-oversight" id="toc-what-about-institutional-review-board-irb-approval-and-ethical-oversight" class="nav-link" data-scroll-target="#what-about-institutional-review-board-irb-approval-and-ethical-oversight">What about Institutional Review Board (IRB) approval and ethical oversight?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Frequently Asked Questions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>CLIF is a <a href="https://clif-consortium.github.io/website/data-dictionary.html#maturity-levels-for-clif-tables">maturing format</a> and we welcome all feedback. Please use the <a href="https://github.com/clif-consortium/CLIF/issues">issues page</a> or email us at <a href="mailto:clif_consortium@uchicago.edu" class="email">clif_consortium@uchicago.edu</a>. Please also refer to our pre-print <a href="https://www.medrxiv.org/content/10.1101/2024.09.04.24313058v1">concept paper</a>.</p>
<section id="what-is-federated-analysis-and-what-is-the-project-workflow" class="level1">
<h1>What is “federated” analysis and what is the project workflow?</h1>
<p>A lead principal investigator (PI) originates a project idea, specifies the required cohort and CLIF tables for the project, and then develops analytic code written using their local CLIF database. The CLIF consortium then runs the script and returns <strong>aggregate results</strong> to the PI. The PI complies the aggregate results for publication.</p>
<p>At no point is patient-level (i.e.&nbsp;“row-level”) data exchanged between sites, unless there is a specific Data Use Agreement (DAU) that permits this for specific combinations of consortium sites and directionality. You can submit your project idea <a href="https://redcap.uchicago.edu/surveys/?s=7FMNPWTXKP3P3ANW">here</a>!</p>
</section>
<section id="whats-the-process-for-joining-the-consortium-do-i-need-to-clif-my-healthsystems-data-to-start-collaborating" class="level1">
<h1>What’s the process for joining the consortium? Do I need to CLIF my healthsystem’s data to start collaborating?</h1>
<p>The CLIF consortium is committed to an inclusive, open-source development ecosystem. We recognize that not all investigators have the resources or institutional support necessary to extract-transform-load (ETL) their local healthsystem’s data into CLIF. <strong>Therefore, we will run any high-quality observational study coded to run on CLIF.</strong></p>
<p>We have developed a pipeline to convert the de-identified exemplar <a href="https://physionet.org/content/mimic-iv-demo/2.2/">MIMIC-IV</a> dataset into a high-quality CLIF database. For setup instructions and guidance on creating it at your site, please refer to this <a href="https://github.com/Common-Longitudinal-ICU-data-Format/CLIF-MIMIC">GitHub repository</a>.</p>
</section>
<section id="what-about-multi-modal-data-like-notes-and-images" class="level1">
<h1>What about multi-modal data like notes and images?</h1>
<p>The current CLIF framework is for standardized longitudinal ICU data elements (e.g.&nbsp;labs, vitals, ventilator settings, medication doses, and flowsheet documentation). We believe the clinical context defined by these standardized <a href="https://clif-consortium.github.io/website/mCIDE.html">minimum Common ICU Data Elements (CDE)</a> are essential for the proper interpretation of multi-modal data such as clinical notes and imaging results.</p>
<p>Once CLIF is mature for these standardized data elements, we plan to represent these multi-modal data.</p>
</section>
<section id="why-didnt-you-just-use-an-existing-common-data-model-cdm-like-the-observational-medical-outcomes-partnership-omop" class="level1">
<h1>Why didn’t you just use an existing Common Data Model (CDM) like the Observational Medical Outcomes Partnership (OMOP)?</h1>
<p>Established open-source CDMs such as the OMOP take on data harmonization and standardization challenge for the entire EHR. The work of the <a href="https://www.ohdsi.org/data-standardization/">Observational Health Data Sciences and Informatics (OHDSI)</a> community has been a guiding force for the CLIF consoritum throughout CLIF’s development. However, the extract-transform-load (ETL) to a CDM is a major data engineering challenge, and data elements essential for the study of critical illness typically are not prioritized. Local CDM instances often completely omit granular critical illness data elements, such as ventilator settings for patients suffering from respiratory failure.</p>
</section>
<section id="what-about-outpatient-data" class="level1">
<h1>What about outpatient data?</h1>
<p>CLIF is designed for critically ill hospitalized adults and does not represent outpatient encounters. The <code>patient</code>, <code>hospitalization</code>, and <code>admission_diagnosis</code> table summarize information about the patient on admission to the hospital. CLIF could be used as one part of a larger EHR study that requires outpatient data from before the admission.</p>
</section>
<section id="what-about-connections-to-existing-data-standards-like-health-level-seven-hl7-fast-healthcare-interoperability-resources-fhir" class="level1">
<h1>What about connections to existing data standards like Health Level Seven (HL7) Fast Healthcare Interoperability Resources (FHIR)?</h1>
<p>CLIF is currently not linked to established interoperability standards like <a href="https://www.hl7.org/fhir/overview.html">Health Level Seven (HL7) Fast Healthcare Interoperability Resources (FHIR)</a>. Future data engineering directions include the development of HL7 FHIR queries to generate real-time CLIF tables</p>
</section>
<section id="what-about-institutional-review-board-irb-approval-and-ethical-oversight" class="level1">
<h1>What about Institutional Review Board (IRB) approval and ethical oversight?</h1>
<p>The CLIF consortium is committed to the responsible conduct of research. Each consortium site has independent IRB approval or an exemption for each CLIF project they run on their local CLIF database.</p>
<p>The consortium is aware of the <a href="https://grants.nih.gov/grants/guide/notice-files/NOT-OD-16-094.html">NIH Single Institutional Review Board (IRB) policy</a> and planning to adhere to this policy for future NIH-funded projects using the consortium.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© 2025 · CLIF Consortium <br> ✉️ <a href="mailto:clif_consortium@uchicago.edu">clif_consortium@uchicago.edu</a> <br> <br></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>